(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{33:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),c=a(27),r=a.n(c),i=a(10),l=(a(33),a(17)),o=(a(34),a(50),a(51),a(36),l.a.initializeApp({apiKey:"AIzaSyDrICxenlVfwbaIN-KR2dE_MoYrzY1IRl8",authDomain:"hus-fb.firebaseapp.com",databaseURL:"https://hus-fb-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"hus-fb",storageBucket:"hus-fb.appspot.com",messagingSenderId:"282388248517",appId:"1:282388248517:web:b854c85aea206ed7663dac",measurementId:"G-91KBN4N2X3"}),l.a),j=l.a.auth(),d=(l.a.firestore(),l.a.storage(),l.a.database()),u=a(21),b=a(5),m=a(15),h=a.n(m),x=a(18),p=a(2),O=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(""),r=Object(i.a)(c,2),l=r[0],o=r[1],d=Object(n.useState)(""),u=Object(i.a)(d,2),b=u[0],m=u[1],O=function(e){e.preventDefault();var t=e.target.name,a=e.target.value;switch(t){case"email":s(a);break;case"password":o(a)}},g=function(){var e=Object(x.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,j.signInWithEmailAndPassword(a,l);case 4:e.sent&&console.log("signed in"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.message),m(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("form",{onSubmit:g,className:"",children:[Object(p.jsx)("div",{className:"my-3",children:Object(p.jsx)("h4",{style:{fontWeight:"lighter"},children:"Log in to your account"})}),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("input",{type:"text",name:"email",placeholder:"Email",className:"my-3",onChange:O}),Object(p.jsx)("input",{type:"password",name:"password",placeholder:"Password",className:"my-3",onChange:O}),Object(p.jsx)("button",{type:"submit",name:"submit",className:"my-1",children:"Sign In"})]}),Object(p.jsx)("div",{children:b})]})},g=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(""),r=Object(i.a)(c,2),l=r[0],o=r[1],u=Object(n.useState)(""),b=Object(i.a)(u,2),m=b[0],O=b[1],g=function(e){e.preventDefault();var t=e.target.name,a=e.target.value;switch(t){case"email":s(a);break;case"password":o(a);break;case"fullName":O(a)}},f=function(){var e=Object(x.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,j.createUserWithEmailAndPassword(a,l);case 3:e.sent&&d.ref("users/"+j.currentUser.uid).set({email:a,fullName:m,createdAt:j.currentUser.metadata.creationTime,lastSignInTime:j.currentUser.metadata.lastSignInTime});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("form",{onSubmit:f,className:"row",children:[Object(p.jsx)("div",{className:"my-3",children:Object(p.jsx)("h4",{style:{fontWeight:"lighter"},children:"Become a Member!"})}),Object(p.jsxs)("div",{className:"d-grid mx-auto col-md-6 col-xl-5",children:[Object(p.jsx)("input",{required:!0,type:"text",name:"email",placeholder:"Email",className:"m-3",onChange:g}),Object(p.jsx)("input",{required:!0,type:"password",name:"password",placeholder:"Password",className:"m-3 ",onChange:g}),Object(p.jsx)("input",{required:!0,type:"text",name:"fullName",placeholder:"Full Name",className:"m-3 ",onChange:g}),Object(p.jsx)("button",{type:"submit",name:"submit",className:"my-3 col-7 d-block mx-auto",children:"Sign Up"})]})]})},f=function(){var e=function(){var e=Object(x.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=t.target.name,e.t0=a,e.next="google"===e.t0?5:"facebook"===e.t0?10:11;break;case 5:return n=new o.auth.GoogleAuthProvider,e.next=8,j.signInWithPopup(n);case 8:return e.sent,e.abrupt("break",12);case 10:case 11:return e.abrupt("break",12);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{name:"google",onClick:e,className:"transparent-button text-dark",children:"Google"}),Object(p.jsx)("button",{name:"facebook",onClick:e,className:"transparent-button text-dark",children:"Facebook"})]})},v=function(){var e=Object(n.useState)(!0),t=Object(i.a)(e,2),a=t[0],s=t[1],c=function(){return a?Object(p.jsx)(O,{}):a?Object(p.jsx)("div",{children:"Error"}):Object(p.jsx)(g,{})};return Object(p.jsxs)("div",{id:"login-form",className:"col-lg-7 col-md-8 col-sm-10 col-xs-12 col-xl-6 text-white mx-auto text-center",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{className:"text-center mt-5",children:"HUS"}),Object(p.jsx)("h3",{className:"monte",children:"Have your say"})]}),Object(p.jsx)("div",{children:Object(p.jsx)(c,{})}),Object(p.jsx)(f,{isSignIn:a}),Object(p.jsxs)("div",{className:"my-3 d-grid",children:[Object(p.jsx)("span",{style:{fontWeight:"bold"},children:a?"Not a member yet?":"Are you a member?"}),Object(p.jsx)("button",{className:" mb-3 transparent-button",onClick:function(){return s(!a)},children:a?"Create Account":"Sign In"})]})]})},N=function(e){e.isLoggedIn;return Object(p.jsx)("section",{id:"auth",className:"container-fluid",children:Object(p.jsx)("div",{className:"row",style:{minHeight:"100vh",alignContent:"center"},children:Object(p.jsx)(v,{})})})},y=function(e){var t=e.setPopPost;return Object(p.jsx)("div",{id:"post-popup",className:"row",children:Object(p.jsxs)("div",{className:"col-12 mt-3",children:[Object(p.jsx)("button",{onClick:function(){return t(!1)},children:"Close"}),Object(p.jsx)("h3",{children:"Post Here"})]})})},w=function(){return Object(p.jsx)("div",{children:"posts"})},k=function(e){var t=e.isLoggedIn,a=Object(n.useState)(!1),s=Object(i.a)(a,2),c=s[0],r=s[1];Object(n.useEffect)((function(){t&&(c?document.querySelector("#dark-bg").classList.add("on-popup"):document.querySelector("#dark-bg").classList.remove("on-popup"))}),[c]);return Object(p.jsx)("section",{className:"container-fluid",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-3 border",children:"left panel"}),Object(p.jsxs)("div",{className:"col-md-6",children:[Object(p.jsxs)("div",{className:"text-center py-3",style:{backgroundColor:"grey"},children:[Object(p.jsx)("button",{onClick:function(e){e.preventDefault(),r(!0),t||alert("Please login first")},children:"What's on your mind?"}),Object(p.jsx)("div",{id:"dark-bg"}),c&&t&&Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(y,{setPopPost:r})})]}),Object(p.jsx)(w,{})]}),Object(p.jsx)("div",{className:"col-md-3 border",children:"right panel"})]})})},S=function(e){var t=e.isLoggedIn;return Object(p.jsxs)("header",{className:"row",children:[Object(p.jsx)("h1",{className:"text-center mt-5",children:"HUS"}),Object(p.jsxs)("nav",{className:"col-12 d-md-flex mt-3 justify-content-center",children:[Object(p.jsxs)("ul",{className:"d-md-flex",children:[Object(p.jsx)("li",{className:"mx-5 p-2",children:"National"}),Object(p.jsx)("li",{className:"mx-5 p-2",children:"International"}),Object(p.jsx)("li",{className:"mx-5 p-2",children:"Sports"}),Object(p.jsx)("li",{className:"mx-5 p-2",children:"Business"}),Object(p.jsx)("li",{className:"mx-5 p-2",children:"Entertainment"})]}),t?Object(p.jsx)("button",{onClick:function(){j.signOut(),window.location.reload()},children:"Logout"}):Object(p.jsx)(u.b,{to:"/login",className:"p-2",children:"Login"})]})]})},I=function(e){var t=e.isLoggedIn;e.userObj;return Object(p.jsx)(u.a,{children:Object(p.jsxs)(b.d,{children:[Object(p.jsxs)(b.b,{exact:!0,path:"/",children:[Object(p.jsx)(S,{isLoggedIn:t}),Object(p.jsx)(k,{isLoggedIn:t})]}),Object(p.jsxs)(b.b,{exact:!0,path:"/login",children:[Object(p.jsx)(N,{isLoggedIn:t}),t&&Object(p.jsx)(b.a,{to:"/"})]})]})})};var C=function(){var e=Object(n.useState)(!0),t=Object(i.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(null),r=Object(i.a)(c,2),l=r[0],o=r[1];return Object(n.useEffect)((function(){j.onAuthStateChanged((function(e){e&&(o(e),d.ref("users/"+e.uid).update({lastSignInTime:e.metadata.lastSignInTime})),s(!1)}))}),[l]),Object(p.jsx)(p.Fragment,{children:a?Object(p.jsx)(p.Fragment,{children:"Loading..."}):Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(I,{isLoggedIn:Boolean(l),userObj:l})})})};a(48);r.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(C,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.8904599c.chunk.js.map