{"version":3,"sources":["myBase.js","components/Login/SignIn.js","components/Login/SignUp.js","components/Login/SocialLogin.js","components/Login/LoginForm.js","views/Auth.js","components/Posts/PostFactory.js","components/Posts/UpAndDown.js","components/Posts/Posts.js","views/Home.js","components/Header.js","components/Posts/CommentSection.js","components/Posts/InnerPost.js","components/Router.js","components/App.js","index.js"],"names":["firebaseInstance","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","authService","auth","fbFireStore","firestore","realtimeDB","storage","database","SignIn","useState","email","setEmail","password","setPassword","error","setError","onChange","e","preventDefault","name","target","value","onSubmit","a","signInWithEmailAndPassword","console","log","message","className","style","fontWeight","type","placeholder","SignUp","fullName","setFullName","createUserWithEmailAndPassword","currentUser","updateProfile","displayName","ref","uid","set","createdAt","metadata","creationTime","lastSignInTime","required","SocialLogin","onSocialClick","provider","GoogleAuthProvider","signInWithPopup","process","alert","update","onClick","LoginForm","isSignIn","setIsSignIn","HandleForm","id","Auth","isLoggedIn","minHeight","alignContent","PostFactory","setPopPost","url","setURL","comment","setComment","upAndDown","setUpAndDown","up","down","data","authorEmail","author","authorID","c_author_name","c_authorID","text","c_up","c_down","c_id","Date","now","c_createdAt","createdDate","postID","collection","doc","window","location","reload","onUpAndDown","document","getElementById","classList","add","remove","padding","borderRadius","color","UpAndDown","which","vote","setLoading","loading","onVoteClick","get","getPost","push","Posts","voterIndex","posts","setPosts","checkVoted","isUserAgreed","postKey","getPosts","tempArray","forEach","title","sort","b","OnDelete","confirm","delete","CreatePost","comment_author","onRevoteClick","res","arr","map","el","index","date","toLocaleDateString","checkAuthor","Boolean","float","fontSize","length","to","useEffect","topComment","Home","popPost","Header","signOut","CommentSection","dbComments","setDBComments","commentUpdate","setCommentUpdate","WriteComment","getAuthor","postLocation","backgroundColor","rows","cols","onDeleteClick","thisCommentID","parentElement","splice","getComments","getAllComments","element","firstComment","includes","InnerPost","useParams","loaded","setLoaded","postData","setPostData","getPostData","requestData","ShowPage","AppRouter","userObj","exact","path","App","setUserObj","onAuthStateChanged","user","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.a3de23c7.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\nimport \"firebase/database\";\r\n\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyDrICxenlVfwbaIN-KR2dE_MoYrzY1IRl8\",\r\n    authDomain: \"hus-fb.firebaseapp.com\",\r\n    databaseURL: \"https://hus-fb-default-rtdb.asia-southeast1.firebasedatabase.app\",\r\n    projectId: \"hus-fb\",\r\n    storageBucket: \"hus-fb.appspot.com\",\r\n    messagingSenderId: \"282388248517\",\r\n    appId: \"1:282388248517:web:b854c85aea206ed7663dac\",\r\n    measurementId: \"G-91KBN4N2X3\"\r\n};\r\n\r\nexport default firebase.initializeApp(firebaseConfig);\r\n\r\nexport const firebaseInstance = firebase;\r\n\r\nexport const authService = firebase.auth();\r\nexport const fbFireStore = firebase.firestore();\r\nexport const storageService = firebase.storage();\r\nexport const realtimeDB = firebase.database();","import React, { useState } from 'react'\r\nimport { authService } from '../../myBase'\r\n\r\nconst SignIn = () => {\r\n\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [error, setError] = useState('')\r\n\r\n    const onChange = (e) => {\r\n        e.preventDefault();\r\n        const { target: { name } } = e;\r\n        const { target: { value } } = e;\r\n\r\n        switch (name) {\r\n            case 'email':\r\n                setEmail(value)\r\n                break;\r\n            case 'password':\r\n                setPassword(value)\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    const onSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            let data = await authService.signInWithEmailAndPassword(\r\n                email,\r\n                password\r\n            )\r\n\r\n            if (data) {\r\n                console.log('signed in')\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error.message)\r\n            setError(error.message)\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={onSubmit} className=\"\" >\r\n            <div className=\"my-3\">\r\n                <h4 style={{ fontWeight: 'lighter' }}>Log in to your account</h4>\r\n            </div>\r\n            <>\r\n                <input type=\"text\" name=\"email\" placeholder=\"Email\" className=\"my-3\" onChange={onChange} />\r\n                <input type=\"password\" name=\"password\" placeholder=\"Password\" className=\"my-3\" onChange={onChange} />\r\n                <button type=\"submit\" name=\"submit\" className=\"my-1\">Sign In</button>\r\n            </>\r\n            <div>{error}</div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default SignIn;","import React, { useState } from 'react'\r\nimport { authService, realtimeDB } from '../../myBase'\r\n\r\nconst SignUp = () => {\r\n\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [fullName, setFullName] = useState('')\r\n\r\n\r\n    const onChange = (e) => {\r\n        e.preventDefault();\r\n        const { target: { name } } = e;\r\n        const { target: { value } } = e;\r\n        switch (name) {\r\n            case 'email':\r\n                setEmail(value)\r\n                break;\r\n            case 'password':\r\n                setPassword(value)\r\n                break;\r\n            case 'fullName':\r\n                setFullName(value)\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    const onSubmit = async (e) => {\r\n        e.preventDefault();\r\n        let data;\r\n        data = await authService.createUserWithEmailAndPassword(\r\n            email,\r\n            password,\r\n        );\r\n        if (data) {\r\n            await authService.currentUser.updateProfile({\r\n                displayName: fullName\r\n            })\r\n            await realtimeDB.ref('users/' + authService.currentUser.uid).set({\r\n                email,\r\n                fullName,\r\n                createdAt: authService.currentUser.metadata.creationTime,\r\n                lastSignInTime: authService.currentUser.metadata.lastSignInTime\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={onSubmit} className=\"row\" >\r\n            <div className=\"my-3\">\r\n                <h4 style={{ fontWeight: 'lighter' }}>Become a Member!</h4>\r\n            </div>\r\n            <div className=\"d-grid mx-auto col-md-6 col-xl-5\" >\r\n                <input required type=\"text\" name=\"email\" placeholder=\"Email\" className=\"m-3\" onChange={onChange} />\r\n                <input required type=\"password\" name=\"password\" placeholder=\"Password\" className=\"m-3 \" onChange={onChange} />\r\n                <input required type=\"text\" name=\"fullName\" placeholder=\"Full Name\" className=\"m-3 \" onChange={onChange} />\r\n\r\n                <button type=\"submit\" name=\"submit\" className=\"my-3 col-7 d-block mx-auto\">Sign Up</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default SignUp;","import React from 'react'\r\nimport { authService, firebaseInstance, realtimeDB } from '../../myBase';\r\n\r\nconst SocialLogin = () => {\r\n\r\n\r\n    const onSocialClick = async (e) => {\r\n        e.preventDefault();\r\n        const { target: { name } } = e;\r\n        let provider;\r\n        let process;\r\n\r\n        switch (name) {\r\n            case 'google':\r\n                provider = new firebaseInstance.auth.GoogleAuthProvider()\r\n                process = await authService.signInWithPopup(provider)\r\n                break;\r\n            case 'facebook':\r\n                alert('Not yet implemented')\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        if (process) {\r\n            await realtimeDB.ref('users/' + authService.currentUser.uid).update({\r\n                email: authService.currentUser.email,\r\n                fullName: authService.currentUser.displayName,\r\n                createdAt: authService.currentUser.metadata.creationTime,\r\n                lastSignInTime: authService.currentUser.metadata.lastSignInTime\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <button name=\"google\" onClick={onSocialClick} className=\"transparent-button text-dark\">Google</button>\r\n            <button name=\"facebook\" onClick={onSocialClick} className=\"transparent-button text-dark\">Facebook</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SocialLogin;","import React, { useState } from 'react'\r\nimport SignIn from './SignIn';\r\nimport SignUp from './SignUp';\r\nimport SocialLogin from './SocialLogin';\r\n\r\nconst LoginForm = () => {\r\n    const [isSignIn, setIsSignIn] = useState(true)\r\n\r\n    const HandleForm = () => {\r\n\r\n\r\n        if (isSignIn) {\r\n            return (\r\n                <SignIn />\r\n            )\r\n        }\r\n\r\n        if (!isSignIn) {\r\n            return (\r\n                <SignUp />\r\n            )\r\n        }\r\n        return (\r\n            <div>Error</div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div id=\"login-form\" className=\"col-lg-7 col-md-8 col-sm-10 col-xs-12 col-xl-6 text-white mx-auto text-center\">\r\n            <div>\r\n                <h1 className=\"text-center mt-5\">HUS</h1>\r\n                <h3 className=\"monte\">Have your say</h3>\r\n            </div>\r\n            <div>\r\n                <HandleForm />\r\n            </div>\r\n            <SocialLogin isSignIn={isSignIn} />\r\n            <div className=\"my-3 d-grid\">\r\n                <span style={{ fontWeight: 'bold' }}>{isSignIn ? \"Not a member yet?\" : \"Are you a member?\"}</span>\r\n                <button className=\" mb-3 transparent-button\" onClick={() => setIsSignIn(!isSignIn)}>{isSignIn ? 'Create Account' : 'Sign In'}</button>\r\n            </div>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginForm;","import React from 'react';\r\nimport LoginForm from '../components/Login/LoginForm';\r\n\r\nconst Auth = ({ isLoggedIn }) => {\r\n\r\n    return (\r\n        <section id=\"auth\" className=\"container-fluid\">\r\n            <div className=\"row\" style={{ minHeight: '100vh', alignContent: 'center' }}>\r\n                <LoginForm />\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Auth;","import { LinkPreview } from \"@dhaiwat10/react-link-preview\"\r\nimport { useState } from \"react\"\r\nimport { authService, fbFireStore, realtimeDB } from '../../myBase'\r\n\r\nconst PostFactory = ({ setPopPost }) => {\r\n    const [url, setURL] = useState(null)\r\n    const [comment, setComment] = useState(null)\r\n    const [authorEmail, setAuthorEmail] = useState(null)\r\n    const [upAndDown, setUpAndDown] = useState('up')\r\n\r\n    const onChange = (e) => {\r\n        e.preventDefault();\r\n        const { target: { name } } = e;\r\n        const { target: { value } } = e;\r\n        switch (name) {\r\n            case 'url':\r\n                setURL(value)\r\n                break;\r\n            case 'comment':\r\n                setComment(value)\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    const onSubmit = async (e) => {\r\n        e.preventDefault()\r\n        try {\r\n            let up = [];\r\n            let down = [];\r\n            if(upAndDown === \"up\"){\r\n                up = [authService.currentUser.uid];\r\n            }else{\r\n                down = [authService.currentUser.uid];\r\n            }\r\n            let data = {\r\n                url,\r\n                authorEmail: authService.currentUser.email,\r\n                author: authService.currentUser.displayName,\r\n                authorID: authService.currentUser.uid,\r\n                comment: [{ c_author_name: authService.currentUser.displayName, c_authorID: authService.currentUser.uid, text: comment, c_up: 0, c_down: 0, c_id: \"C_\" + authService.currentUser.uid + Date.now(), c_createdAt: Date.now() }],\r\n                up,\r\n                down,\r\n                createdDate: Date.now()\r\n            }\r\n\r\n\r\n            let postID = authService.currentUser.uid + Date.now()\r\n            await fbFireStore.collection('post').doc(postID).set(data)\r\n            alert('Post uploaded successfully')\r\n            window.location.reload()\r\n        } catch (error) {\r\n            console.log(error.message)\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    const onUpAndDown = (e) => {\r\n        e.preventDefault();\r\n\r\n        const { target: { name } } = e;\r\n\r\n\r\n        switch (name) {\r\n            case \"up\":\r\n                try {\r\n                    document.getElementById('up').classList.add('active-white')\r\n                    document.getElementById('down').classList.remove('active-white')\r\n                    setUpAndDown('up')\r\n                } catch (error) {\r\n                    console.log(error)\r\n                }\r\n                break;\r\n\r\n            case \"down\":\r\n                try {\r\n                    document.getElementById('down').classList.add('active-white')\r\n                    document.getElementById('up').classList.remove('active-white')\r\n                    setUpAndDown('down')\r\n                } catch (error) {\r\n                    console.log(error)\r\n                }\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div id=\"post-field\" className=\"row\">\r\n            <div>\r\n                {url && url !== \"\" &&\r\n                    <LinkPreview url={url} />\r\n\r\n                }\r\n            </div>\r\n            <div className=\"col-12 mt-3\">\r\n                <form onSubmit={onSubmit}>\r\n                    <input required type=\"text\" required onChange={onChange} name=\"url\" placeholder=\"Drag & Drop the article\"\r\n                        style={{ padding: '30px', borderRadius: '8px' }}\r\n                    />\r\n                    <div className=\"d-grid mt-3\">\r\n                        <input required type=\"text\" onChange={onChange} name=\"comment\" placeholder=\"comment\" />\r\n                        <div className=\"d-flex\">\r\n                            <button id=\"up\" name=\"up\" className=\"transparent-button active-white\" onClick={onUpAndDown} style={{ color: 'red' }}>AGREE</button>\r\n                            <button id=\"down\" name=\"down\" className=\"transparent-button\" onClick={onUpAndDown} style={{ color: 'blue' }}>DISAGREE</button>\r\n\r\n                        </div>\r\n                    </div>\r\n                    <button name=\"submit\" className=\"transparent-button\">Post</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PostFactory;","import { authService, fbFireStore } from \"../../myBase\";\r\n\r\nconst UpAndDown = ({vote, postID,setLoading\r\n    ,loading}) => {\r\n    let which;\r\n    if(vote === 'up'){\r\n        which = \"UP\";\r\n    }else if(vote === 'down'){\r\n        which = \"DOWN\"\r\n    }\r\n    const onVoteClick = async(e) => {\r\n        e.preventDefault();\r\n\r\n        let getPost = await fbFireStore.collection('post').doc(postID).get()\r\n        let data = getPost.data();\r\n        if(vote === 'up'){\r\n            data.up.push(authService.currentUser.uid);\r\n            await fbFireStore.collection('post').doc(postID).update({\r\n                up: data.up\r\n            })\r\n        }else if(vote ==='down'){\r\n            data.down.push(authService.currentUser.uid);\r\n            await fbFireStore.collection('post').doc(postID).update({\r\n                down: data.down\r\n            })\r\n        }else{\r\n            console.log(\"Something went wrong at OnVoteClick\")\r\n        }\r\n        setLoading(!loading);\r\n\r\n    }\r\n\r\n    \r\n    return (\r\n        <div>\r\n           <button id={postID} onClick={onVoteClick} className=\"transparent-button\"> { which } </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UpAndDown;","import { useEffect, useState } from \"react\";\r\nimport { authService, fbFireStore } from \"../../myBase\";\r\nimport { LinkPreview } from '@dhaiwat10/react-link-preview';\r\nimport { Link } from \"react-router-dom\";\r\nimport UpAndDown from \"./UpAndDown\";\r\n\r\nconst Posts = () => {\r\n    const [loading, setLoading] = useState(true)\r\n    const [posts, setPosts] = useState(null)\r\n\r\n    let checkVoted = false;\r\n    let voterIndex;\r\n    let isUserAgreed = false;\r\n\r\n    let postKey = 0;\r\n    const getPosts = async () => {\r\n        try {\r\n            let getPosts = await fbFireStore.collection('post').get()\r\n            let tempArray = []\r\n            getPosts.forEach((doc) => {\r\n                let data = {\r\n                    postID: doc.id,\r\n                    author: doc.data().author,\r\n                    authorID: doc.data().authorID,\r\n                    comment: doc.data().comment,\r\n                    createdDate: doc.data().createdDate,\r\n                    title: doc.data().title,\r\n                    up: doc.data().up,\r\n                    down: doc.data().down,\r\n                    url: doc.data().url\r\n                }\r\n                tempArray.push(data)\r\n                tempArray.sort((a, b) => {\r\n                    return b.createdDate - a.createdDate\r\n                })\r\n            })\r\n            setPosts(tempArray)\r\n            setLoading(false)\r\n        } catch (error) {\r\n            console.log(error.message)\r\n        }\r\n    }\r\n\r\n    const OnDelete = async (e) => {\r\n        e.preventDefault();\r\n\r\n        if (window.confirm(\"Really Delete?\")) {\r\n            let postID = e.target.id;\r\n            const res = await fbFireStore.collection('post').doc(postID).delete();\r\n            console.log(\"Deleted Post\")\r\n            window.location.reload();\r\n        }\r\n    }\r\n\r\n    const CreatePost = ({ author, comment, url, up, down, createdDate, authorID, postID, comment_author }) => {\r\n\r\n        const onRevoteClick = async(e) => {\r\n            e.preventDefault();\r\n            let res = await fbFireStore.collection('post').doc(postID).get();\r\n            \r\n            try {\r\n                let data = res.data();\r\n                let arr = [];\r\n                if(isUserAgreed){\r\n                    data.up.map((el, index) => {\r\n                        if(index !== voterIndex){\r\n                            arr.push(el)\r\n                        }\r\n                    })\r\n                    await fbFireStore.collection('post').doc(postID).update({\r\n                        up: arr\r\n                    })\r\n\r\n                }else{\r\n                    data.down.map((el, index) => {\r\n                        if(index !== voterIndex){\r\n                            arr.push(el)\r\n                        }\r\n                    })\r\n                    await fbFireStore.collection('post').doc(postID).update({\r\n                        down: arr\r\n                    })\r\n                }\r\n\r\n                window.location.reload();\r\n\r\n            } catch (error) {\r\n                console.log(error.message)\r\n            }\r\n        }\r\n        \r\n        let date = new Date(createdDate).toLocaleDateString(\"en-US\")\r\n        let checkAuthor = false;\r\n        if (authService.currentUser) {\r\n            checkAuthor = Boolean(authorID === authService.currentUser.uid)\r\n            up.map((e,index) => {\r\n                if(Boolean(e === authService.currentUser.uid)){\r\n                    console.log(\"Found the user in UP & index at: \" + index)\r\n                    checkVoted = true;\r\n                    isUserAgreed = true;\r\n                    voterIndex = index;\r\n                }\r\n            })\r\n            down.map((e,index) => {\r\n                if(Boolean(e === authService.currentUser.uid)){\r\n                    console.log(\"Found the user in DOWN & index at: \" + index)\r\n                    checkVoted = true;\r\n                    voterIndex = index;\r\n                    isUserAgreed = false;\r\n                }\r\n            })\r\n        }\r\n    \r\n        return (\r\n            <div className=\"border p-3 my-3 post-card\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-5\">\r\n                        <div className=\"\" style={{ float: 'right' }}>\r\n                            {\r\n                                checkAuthor && <button id={postID} onClick={OnDelete} className=\"transparent-button\" style={{ color: 'red' }}>Delete</button>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"border col-md-6\" style={{ minHeight: '300px' }}>\r\n                        <LinkPreview url={url} />\r\n                    </div>\r\n                    <div className=\"col-md-6\">\r\n                        <div style={{ fontSize: 'small' }}>\r\n                            <p className=\"m-0\">{author}</p>\r\n                            <p>Date Created: {date}</p>\r\n                        </div>\r\n                        <div>\r\n                            <div className=\"d-flex\">\r\n                                <p>Agree: {up.length}</p>\r\n                                {\r\n                                    !checkVoted &&\r\n                                    <UpAndDown setLoading={setLoading} loading={loading} postID={postID} vote=\"up\" />\r\n                                }\r\n                            </div>\r\n                            <div className=\"d-flex\">\r\n                                <p>Disagree: {down.length}</p>\r\n                                {\r\n                                    !checkVoted &&\r\n                                    <UpAndDown setLoading={setLoading} loading={loading} postID={postID} vote=\"down\" />\r\n\r\n                                    }\r\n                            </div>\r\n                            <div>\r\n                                {\r\n                                    checkVoted &&\r\n                                    <button id={postID} onClick={onRevoteClick}>Revote</button>\r\n\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                        <p>Top comment</p>\r\n                        <div className=\"comment-box\">\r\n                            <p style={{ fontSize: 'small', float: 'right' }}>Author: {comment_author}</p>\r\n                            <p style={{ fontWeight: 'bold' }}>\"{comment}\"</p>\r\n                        </div>\r\n                        <Link to={`/post/${postID}`} >View More</Link>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-md-12\">\r\n\r\n\r\n                </div>\r\n\r\n\r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        getPosts()\r\n    }, [loading])\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            {loading ? \"Loading...\"\r\n\r\n                :\r\n                posts.map((e) => {\r\n                    try {\r\n                        postKey++;\r\n    \r\n                        e.comment.sort((a, b) => { return a.c_up - b.c_up })\r\n                        let topComment = e.comment[0].text\r\n                        let c_author_name = e.comment[0].c_author_name;\r\n                        return (\r\n                            <CreatePost\r\n                                key={postKey}\r\n                                id={e.postID}\r\n                                url={e.url}\r\n                                title={e.title}\r\n                                authorID={e.authorID}\r\n                                comment={topComment}\r\n                                comment_author={c_author_name}\r\n                                author={e.author}\r\n                                postID={e.postID}\r\n                                createdDate={e.createdDate}\r\n                                up={e.up}\r\n                                down={e.down}\r\n                            />\r\n                        )\r\n                        \r\n                    } catch (error) {\r\n                        console.log(\"error\" + error.message)\r\n                    }\r\n                })\r\n\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Posts;","import React, { useEffect, useState } from 'react'\r\nimport PostFactory from '../components/Posts/PostFactory';\r\nimport Posts from '../components/Posts/Posts';\r\n\r\n\r\nconst Home = ({ isLoggedIn }) => {\r\n    const [popPost, setPopPost] = useState(false)\r\n\r\n\r\n    const onPostClick = (e) => {\r\n        e.preventDefault();\r\n        setPopPost(!popPost)\r\n        if (!isLoggedIn) {\r\n            alert('Please login first')\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <section className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-3\">\r\n                    {/* left panel */}\r\n                </div>\r\n                <div className=\"col-md-6\">\r\n                    <div className=\"text-center py-3\" >\r\n                        <div id=\"post-button\">\r\n                            <button onClick={onPostClick} className=\"transparent-button text-dark\">What's on your mind?</button>\r\n                            {\r\n                                popPost && isLoggedIn &&\r\n                                <>\r\n                                    <PostFactory setPopPost={setPopPost} />\r\n                                </>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n\r\n                    <Posts />\r\n                </div>\r\n                <div className=\"col-md-3\">\r\n                    {/* right panel */}\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Home;","import { Link } from \"react-router-dom\";\r\nimport { authService } from \"../myBase\"\r\n\r\nconst Header = ({ isLoggedIn }) => {\r\n    const onLogout = () => {\r\n        authService.signOut()\r\n        window.location.reload()\r\n    }\r\n    return (\r\n        <header className=\"row\">\r\n            <h1 className=\"text-center mt-5\"><Link to=\"/\" id=\"logo\" className=\"text-dark\">HUS</Link></h1>\r\n            <nav className=\"col-12 d-md-flex mt-3 justify-content-center\">\r\n                <ul className=\"d-md-flex my-0\">\r\n                    <li className=\"mx-5 p-2\" >National</li>\r\n                    <li className=\"mx-5 p-2\" >International</li>\r\n                    <li className=\"mx-5 p-2\" >Sports</li>\r\n                    <li className=\"mx-5 p-2\" >Business</li>\r\n                    <li className=\"mx-5 p-2\" >Entertainment</li>\r\n                </ul>\r\n                {isLoggedIn\r\n                    ? <button onClick={onLogout} className=\"transparent-button\">Logout</button>\r\n                    : <Link to=\"/login\" className=\"p-2 login-button\" >Login</Link>\r\n                }\r\n\r\n            </nav>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import { useEffect, useState } from \"react\"\r\nimport { authService, fbFireStore } from \"../../myBase\"\r\n\r\nconst CommentSection = ({ postID }) => {\r\n\r\n    const [dbComments, setDBComments] = useState(null)\r\n    const [commentUpdate, setCommentUpdate] = useState(false);\r\n    let checkFirstComment = false;\r\n\r\n    const WriteComment = () => {\r\n\r\n        const onSubmit = async (e) => {\r\n            e.preventDefault();\r\n\r\n            // setComment\r\n            let comment = document.getElementById(\"writeComment\").value\r\n            // set data\r\n            let getAuthor = authService.currentUser;\r\n            let data = {\r\n                c_authorID: getAuthor.uid,\r\n                c_author_name: getAuthor.displayName,\r\n                c_createdAt: Date.now(),\r\n                c_down: 0,\r\n                c_up: 0,\r\n                c_id: \"C_\" + getAuthor.uid + Date.now(),\r\n                text: comment,\r\n            }\r\n\r\n            dbComments.push(data)\r\n            let postLocation = await fbFireStore.collection('post').doc(postID.id)\r\n\r\n            try {\r\n                await postLocation.update({ comment: dbComments })                \r\n                console.log(\"Comment Uploaded\")\r\n                setCommentUpdate(!commentUpdate)\r\n            } catch (error) {\r\n                console.log(error.message)\r\n            }\r\n\r\n        }\r\n\r\n        return (\r\n            <div className=\"col-md-12 border mt-5 p-3 text-white text-center\" style={{ backgroundColor: '#242424' }}>\r\n                {authService.currentUser\r\n                    ?\r\n                    <>\r\n                    <button className=\"transparent-button\" style={{color:'lightBlue'}}>Up</button>\r\n                    <button className=\"transparent-button\" style={{color:'yellow'}}>down</button>\r\n                        <h3>Write comment</h3>\r\n                        <form onSubmit={onSubmit}>\r\n                            <textarea id=\"writeComment\" name=\"writeComment\" required rows=\"4\" cols=\"50\" />\r\n                            <button name=\"submit\">Comment</button>\r\n                        </form>\r\n                    </>\r\n\r\n                    :\r\n                    <>\r\n                        <h3>Please login to comment</h3>\r\n                    </>\r\n\r\n                }\r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const onDeleteClick = async (e) => {\r\n        e.preventDefault();\r\n        // Get Comments\r\n        let thisCommentID = e.target.parentElement.id;\r\n\r\n        try {\r\n            for (let index = 0; index < dbComments.length; index++) {\r\n                const element = dbComments[index];\r\n                if(element.c_id === thisCommentID){\r\n                    dbComments.splice(index, 1)\r\n                }\r\n            }\r\n\r\n            // update comment\r\n            if(window.confirm(\"Are you sure to delete?\")){\r\n                await fbFireStore.collection('post').doc(postID.id).update({comment: dbComments})\r\n                setCommentUpdate(!commentUpdate)\r\n                console.log('Comment deleted')\r\n            }\r\n            \r\n        } catch (error) {\r\n            alert(error.message)\r\n        }\r\n        \r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        const getAllComments = async () => {\r\n            let postLocation = await fbFireStore.collection('post').doc(postID.id)\r\n            let getPost = await postLocation.get()\r\n            let getComments = getPost.data().comment\r\n            setDBComments(getComments)\r\n        }\r\n        getAllComments();\r\n\r\n    }, [commentUpdate])\r\n\r\n    \r\n\r\n   \r\n\r\n    return (\r\n        <div>\r\n                {dbComments && dbComments.map((element, index) => {\r\n                    let date = new Date(element.c_createdAt).toLocaleDateString(\"en-US\")\r\n                    let checkAuthor;\r\n                    let firstComment = false;\r\n                    if(authService.currentUser){\r\n                        checkAuthor = element.c_authorID.includes(authService.currentUser.uid)\r\n                        if(index === 0){\r\n                            firstComment = true;\r\n                        }\r\n                    }\r\n                    return (\r\n                        <div key={index} id={element.c_id} className=\"comment-box my-3\" >\r\n                            <p> {element.c_author_name} </p>\r\n                            <p> up: {element.c_up} </p>\r\n                            <p> down: {element.c_down} </p>\r\n                            <p>Comment: {element.text}</p>\r\n                            <p>Created At: {date} </p>\r\n                            <button className=\"transparent-button\" onClick={() => alert(\"not implemented\")}  >Up</button>\r\n                            <button className=\"transparent-button\" onClick={() => alert(\"not implemented\")}  >Down</button>\r\n                            {checkAuthor && !firstComment &&\r\n                                <button className=\"transparent-button\" style={{ color: 'red' }} onClick={onDeleteClick} >Delete</button>\r\n    \r\n                            }\r\n    \r\n                        </div>\r\n                    )\r\n                })}\r\n            <WriteComment />\r\n        </div >\r\n    )\r\n}\r\n\r\n\r\nexport default CommentSection;","import { useParams } from \"react-router\";\r\nimport { LinkPreview } from '@dhaiwat10/react-link-preview';\r\nimport { fbFireStore } from \"../../myBase\";\r\nimport { useEffect, useState } from \"react\";\r\nimport CommentSection from \"./CommentSection\";\r\n\r\nconst InnerPost = () => {\r\n\r\n    const postID = useParams();\r\n    const [loaded, setLoaded] = useState(false)\r\n    const [postData, setPostData] = useState(null)\r\n    const [bestComment, setBestComment] = useState(null)\r\n\r\n    const getPostData = async () => {\r\n        let requestData = await fbFireStore.collection('post').doc(postID.id).get()\r\n        \r\n        if (requestData.data()) {\r\n            let data = requestData.data()\r\n            setPostData(data)\r\n            setLoaded(true)\r\n        } else {\r\n            console.log(\"No Such Document in Firestore\")\r\n        }\r\n    }\r\n\r\n    const ShowPage = () => {\r\n        return (\r\n            <>\r\n                <div className=\"col-md-6 border\">\r\n                    <LinkPreview url={postData.url} />\r\n                </div>\r\n                <div className=\"col-md-6 border\">\r\n                    <div>\r\n                        <div style={{ fontSize: 'small' }}>\r\n                            <p className=\"m-0\">Created by: {postData.author}</p>\r\n                            <p>Date Created: {postData.date}</p>\r\n                        </div>\r\n                        <div>\r\n                            <div className=\"d-flex\">\r\n                                <p>Agree: {postData.up.length}</p>\r\n                                {/* Need to check whether this person already voted */}\r\n                                <button className=\"mx-3 tr\">+</button>\r\n                            </div>\r\n                            <div className=\"d-flex\">\r\n                                <p>Disagree: {postData.down.length}</p>\r\n                                <button className=\"mx-3 tr\">-</button>\r\n                            </div>\r\n                        </div>                    \r\n                    </div>\r\n                </div>\r\n                <div className=\"col-md-10 mt-4 d-block mx-auto\">\r\n                    <CommentSection postID={postID} />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n\r\n    useEffect(() => {\r\n        getPostData()\r\n    }, [loaded])\r\n\r\n    return (\r\n        <section className=\"container\">\r\n            <div className=\"row\">\r\n                {\r\n                    loaded &&\r\n                    <ShowPage />\r\n                }\r\n            </div>\r\n        </section>\r\n\r\n    )\r\n}\r\n\r\nexport default InnerPost;","import React from 'react'\r\nimport { HashRouter as Router, Redirect, Route, Switch } from \"react-router-dom\";\r\nimport Auth from '../views/Auth';\r\nimport Home from '../views/Home';\r\nimport Header from './Header';\r\nimport InnerPost from './Posts/InnerPost';\r\n\r\nconst AppRouter = ({ isLoggedIn, userObj }) => {\r\n\r\n    return (\r\n        <Router>\r\n            <Switch>\r\n                <Route exact path=\"/\">\r\n                    <Header isLoggedIn={isLoggedIn} />\r\n                    <Home isLoggedIn={isLoggedIn} />\r\n                </Route>\r\n                <Route exact path=\"/login\">\r\n                    <Auth isLoggedIn={isLoggedIn} />\r\n                    {isLoggedIn && <Redirect to=\"/\" />}\r\n                </Route>\r\n                <Route path=\"/post/:id\">\r\n                    <Header isLoggedIn={isLoggedIn} />\r\n                    <InnerPost />\r\n                </Route>\r\n            </Switch>\r\n        </Router>\r\n    )\r\n}\r\n\r\n\r\nexport default AppRouter","import React, { useEffect, useState } from 'react';\nimport '../css/App.css';\nimport { authService, realtimeDB } from '../myBase';\nimport AppRouter from './Router';\n\nfunction App() {\n  const [loading, setLoading] = useState(true);\n  const [userObj, setUserObj] = useState(null);\n\n  useEffect(() => {\n    authService.onAuthStateChanged((user) => {\n      if (user) {\n        setUserObj(user);\n        realtimeDB.ref('users/' + user.uid).update({\n          lastSignInTime: user.metadata.lastSignInTime\n        });\n      }\n      setLoading(false);\n    });\n\n  }, [userObj]);\n\n  return (\n    <>\n      {\n        loading\n          ? <>Loading...</>\n          :\n          <div className=\"App\">\n            <AppRouter isLoggedIn={Boolean(userObj)} userObj={userObj} />\n          </div>\n      }\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}